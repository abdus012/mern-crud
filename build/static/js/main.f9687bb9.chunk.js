(this["webpackJsonpcrud-react"]=this["webpackJsonpcrud-react"]||[]).push([[0],{46:function(e,t,a){e.exports=a(90)},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(43),c=a.n(s),l=a(6),o=a(7),i=a(9),m=a(8),u=a(44),d=a(1),p=a(13),h=a(14),v=a(11),E=a.n(v),g=function(e,t,a){var n={};return n.title=e?"":"Title Required",n.description=t?"":"Title Required",n.category=a?"":"Title Required",n},f=a(17),b=a.n(f),y=a(18),N=a.n(y),C=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)(Object(h.a)({},n.state),{},Object(p.a)({},a,r)))},n.validate=function(e,t,a){var r=g(e,t,a);return n.setState({errors:r}),Object.values(r).every((function(e){return""===e}))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,r=t.description,s=t.category;if(n.validate(a,r,s)){var c={title:a,description:r,postCategory:s};console.log(c),E.a.post("http://localhost:5000/posts/add",c).then((function(e){e.data.success&&(alert("Added"),n.setState({title:"",description:"",category:""}))}))}},n.state={title:"",description:"",category:"",errors:{}},n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-10 mt-3 mx-auto"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Create new post "),r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter Title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&r.a.createElement("div",{className:"text-danger"},this.state.errors.title),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",className:"form-control",name:"category",placeholder:"Enter Category",value:this.state.category,onChange:this.handleInputChange}),this.state.errors.category&&r.a.createElement("div",{className:"text-danger"},this.state.errors.category)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description")),r.a.createElement(b.a,{editor:N.a,data:this.state.description,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(t,a){var n=a.getData();e.setState({description:n})}}),this.state.errors.description&&r.a.createElement("div",{className:"text-danger"},this.state.errors.description)),r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:this.onSubmit},r.a.createElement("i",{className:"far fa-check-square"}),"\xa0Submit")))}}]),a}(n.Component),j=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={post:{}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;E.a.get("http://localhost:5000/posts/detail/".concat(t)).then((function(t){t.data.success&&(e.setState({post:t.data.post}),console.log("post:",e.state.post))}))}},{key:"render",value:function(){var e=this.state.post,t=e.title,a=e.postCategory,n=e.description;return r.a.createElement("div",null,r.a.createElement("h2",null,t),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-2"},"Category"),r.a.createElement("dd",{className:"col-sm-10"},a),r.a.createElement("dt",{className:"col-sm-2"},"Description"),r.a.createElement("dd",{className:"col-sm-10"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:n}}))))}}]),a}(n.Component),O=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(h.a)(Object(h.a)({},n.state),{},Object(p.a)({},a,r)))},n.validate=function(e,t,a){var r=g(e,t,a);return n.setState({errors:r}),Object.values(r).every((function(e){return""===e}))},n.onSubmit=function(e){e.preventDefault();var t=n.props.match.params.id,a=n.state,r=a.title,s=a.description,c=a.category;if(n.validate(r,s,c)){var l={title:r,description:s,postCategory:c};console.log(l),E.a.put("http://localhost:5000/posts/update/".concat(t),l).then((function(e){e.data.success&&alert("Edited Successfully")}))}},n.state={title:"",description:"",category:"",errors:{}},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;E.a.get("http://localhost:5000/posts/detail/".concat(t)).then((function(t){t.data.success&&e.setState({title:t.data.post.title,description:t.data.post.description,category:t.data.post.postCategory})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"col-md-10 mt-3 mx-auto"},r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Edit post "),r.a.createElement("form",{className:"needs-validation",noValidate:!0},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",className:"form-control",name:"title",placeholder:"Enter Title",value:this.state.title,onChange:this.handleInputChange}),this.state.errors.title&&r.a.createElement("div",{className:"text-danger"},this.state.errors.title),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Category"),r.a.createElement("input",{type:"text",className:"form-control",name:"category",placeholder:"Enter Category",value:this.state.category,onChange:this.handleInputChange}),this.state.errors.category&&r.a.createElement("div",{className:"text-danger"},this.state.errors.category)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Description")),r.a.createElement(b.a,{editor:N.a,data:this.state.description,onInit:function(e){console.log("Editor is ready to use!",e)},onChange:function(t,a){var n=a.getData();e.setState({description:n})}}),this.state.errors.description&&r.a.createElement("div",{className:"text-danger"},this.state.errors.description)),r.a.createElement("button",{className:"btn btn-success",type:"submit",onClick:this.onSubmit},r.a.createElement("i",{className:"far fa-check-square"}),"\xa0Submit")))}}]),a}(n.Component),S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"MERN Stack"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)")))))))}}]),a}(n.Component),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleTextSearch=function(e){var t=e.currentTarget.value;E.a.get("http://localhost:5000/posts").then((function(e){e.data.success&&n.filterContent(e.data.posts,t)}))},n.onDelete=function(e){E.a.delete("http://localhost:5000/posts/delete/".concat(e)).then((function(e){alert(e.data.title+" Deleted Successfully"),n.getPosts()}))},n.state={posts:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"getPosts",value:function(){var e=this;E.a.get("http://localhost:5000/posts").then((function(t){t.data.success&&(e.setState({posts:t.data.posts}),console.log(e.state.posts))}))}},{key:"filterContent",value:function(e,t){var a=e.filter((function(e){return e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.postCategory.toLowerCase().includes(t)}));this.setState({posts:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-9 mt-2 mb-2"},r.a.createElement("h2",null,"All Posts")),r.a.createElement("div",{className:"col-lg-9 mt-2 mb-2"},r.a.createElement("input",{className:"form-control",type:"search",placeholder:"Search",name:"searchTerm",onChange:this.handleTextSearch}))),r.a.createElement("table",{className:"table table-dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Sr."),r.a.createElement("th",{scope:"col"},"Company Name"),r.a.createElement("th",{scope:"col"},"Description"),r.a.createElement("th",{scope:"col"},"Email"),r.a.createElement("th",{scope:"col"},"Action"))),r.a.createElement("tbody",null,this.state.posts.map((function(t,a){return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a+1),r.a.createElement("td",null,r.a.createElement("a",{href:"/posts/".concat(t._id)}," ",t.title," ")),r.a.createElement("td",{dangerouslySetInnerHTML:{__html:t.description}}),r.a.createElement("td",null,t.postCategory),r.a.createElement("td",null,r.a.createElement("a",{className:"btn btn-warning",href:"/edit/".concat(t._id)},r.a.createElement("i",{className:"fas fa-edit"}),"\xa0 Edit")," \xa0",r.a.createElement("a",{className:"btn btn-danger",href:"#",onClick:function(){return e.onDelete(t._id)}},r.a.createElement("i",{className:"far fa-trash-alt"}),"\xa0Delete")))})))),r.a.createElement("button",{className:"btn btn-success"},r.a.createElement("a",{href:"/add"},"Add New Post")))}}]),a}(n.Component),w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(u.a,null,r.a.createElement("div",{className:"container"},r.a.createElement(S,null),r.a.createElement(d.a,{path:"/",exact:!0,component:k}),r.a.createElement(d.a,{path:"/posts/:id",component:j}),r.a.createElement(d.a,{path:"/add",component:C}),r.a.createElement(d.a,{path:"/edit/:id",component:O})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.f9687bb9.chunk.js.map